spring:
  application:
    name: hsd-gateway-server
    #该参数用来开启重试机制
    cloud.loadbalancer.retry.enabled: true
server:
  port: 28890
endpoints:
  restart:
    enabled: true
  shutdown:
    enabled: true
  health:
    sensitive: false

hystrix:
  command:
    default:
      execution:
        timeout:
          enabled: true
        isolation:
          thread:
            timeoutInMilliseconds: 60000 #断路器的超时时间,断路器的超时时间需要大于ribbon的超时时间，不然不会触发重试。
ribbon:
  ReadTimeout: 60000 #请求处理的超时时间
  ConnectTimeout: 60000 #ribbon请求连接的超时时间
  OkToRetryOnAllOperations: true #对所有操作请求都进行重试
  MaxAutoRetries: 3 #对当前实例的重试次数
  MaxAutoRetriesNextServer: 4 #对下个实例的重试次数
  eureka:
    enabled: false

zuul:
  sensitiveHeaders: Access-Control-Allow-Origin,Access-Control-Allow-Methods
  max:
    host:
      connections: 500
  host:
    socket-timeout-millis: 60000
    connect-timeout-millis: 60000
#  ignored-services: "*"
#  routes:
#    product:
#      path: /product/**
#      url: http://product:9001/product
---
#logging:
#  file: logs/hsd-gateway-server.log
#  level:
#    ROOT: INFO

security:
  basic:
    enabled: false
  user:
    name: admin
    password: admin

endpoints:
  health:
    sensitive: false
  cors:
    allowed-methods: HEAD,GET,POST

management.security.enabled: false

# 自定义配置
hsd:
  common:
    appPrefix: dev_   #指定app前缀（开发中可使用IP），系统在队列名、Cache名等前会自动加上前缀，以便不同环境冲突