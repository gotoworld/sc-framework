<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.wu1g.org.dao.IOrgUserVsDepartmentDao" >
	<!-- 字段列表 -->
	<sql id="Base_Column_List" >
		t1.userid as "userid",
		t1.departmentid as "departmentid",
		t1.version as "version",
		t1.date_created as "dateCreated",
		t1.create_id as "createId",
		t1.create_ip as "createIp"
	</sql>
	<!-- 新增 批量数据 -->
	<insert id="insertBatch">
		insert into t_org_user_vs_department(
		userid,
		departmentid,
		version,
		date_created,
		create_id,
		create_ip
		) values 
		<foreach collection="list" item="t" separator=",">
		(
		#{t.userid},
		#{t.departmentid},
		0,
		now(),
		#{t.createId},
		#{t.createIp}
		)
		</foreach>
	</insert>
	<!-- 根据用户id清空用户关联部门信息-->
	<delete id="deleteDataByUid" parameterType="orgUserVsDepartment" >
		delete
		from t_org_user_vs_department
		where  userid = #{userId}
	</delete>
</mapper>