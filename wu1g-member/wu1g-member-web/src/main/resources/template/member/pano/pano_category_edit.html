@[
 /*	
 * 系统_类目 后台管理 (信息编辑页面)
 *
 * VERSION      DATE          BY              REASON
 * -------- ----------- --------------- ---------------------------
 * 1.00     2017-03-30      easycode         程序.发布
 * -------- ----------- --------------- ---------------------------
 * Copyright 2017 System. - All Rights Reserved.
 */
 /]
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
@[ include("../include/meta.html"){} /]
@[ include("../include/public_init_js_css.html"){} /]
<link rel="stylesheet" href="${basePath}plugins/editor/themes/default/default.css" />
<link rel="stylesheet" href="${basePath}plugins/editor/plugins/code/prettify.css" />
</head>

<body class="gray-bg">
<div class="wrapper wrapper-content animated fadeInRight">
	<div class="row">
		<div class="ibox float-e-margins">
			<div class="ibox-content col-md-12">
				<form id="sysCategory_01" method="post" class="form m-t" target="_parent" accept-charset="UTF-8" action="${basePath}m/pano/category/save">
					<div class="col-md-12" style="height: 50px;">
						<div style="float:right;">
							<input class="btn btn-primary" type="submit" value="保存" /> | <a href="javascript:;" onclick="closeMyBoxLayer();">返回</a>
						</div>
					</div>
					<input type="hidden" name="pageNum" id="bean-pageNum" value="${bean.pageNum}">
					<input type="hidden" name="id" value="${bean.id}" />
					<input type="hidden" name="token" value="${bean.token}" />
					<input type="hidden" name="newFlag" value="${bean.newFlag}" />
					<div class="clearfix "></div>
					<div class="col-sm-6 b-r">
                        <div class="form-group">
                            <label class="col-md-3 control-label">编码：</label>
                            <div class="col-md-8">
                                <input id="bean-code" name="code" value="${bean.code}" class="form-control" type="text"  placeholder="请输入编码"  aria-describedby="bean-code-error"  maxlength="32"   aria-invalid="true">
                                <span id="bean-code-error" class="help-block m-b-none"></span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">名称：</label>
                            <div class="col-md-8">
                                <input id="bean-name" name="name" value="${bean.name}" class="form-control" type="text"  placeholder="请输入名称"  required="" aria-required="true"  aria-describedby="bean-name-error"  maxlength="55"   aria-invalid="true">
                                <span id="bean-name-error" class="help-block m-b-none"></span>
                            </div>
                        </div>
                    </div>
					<div class="col-sm-6">
                        <div class="form-group">
                            <label class="col-md-3 control-label">父级类目：</label>
                            <div class="col-md-8">
                                @[ var treeIndex=1; /]
                                @[ var _this_self=bean.id; /]
                                @[ var _band_flag=bean.parentId; /]
                                <select  class="form-control" name="parentId" id="parentId">
                                    <option value="">---顶级---</option>
                                    @[ for(b in nodes !){ /]
                                    <option  value="${_this_self!=b.id?b.id:_this_self}" ${_band_flag==b.id?'selected="selected"':''} >-${b.name}${_this_self==b.id?'-----无效项-------':''}</option>
                                    @[ layout("sys_category_tree_select.html",{treeIndex:1,nodes:b.nodes,_band_flag:bean.parentId,_this_self:bean.id}){} /]
                                    @[ } /]
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">备注：</label>
                            <div class="col-md-8">
                                <input  id="bean-memo" name="memo" value="${bean.memo}" class="form-control"  placeholder="请输入备注"  aria-describedby="bean-memo-error"  maxlength="255"   aria-invalid="true">
                                <span id="bean-memo-error" class="help-block m-b-none"></span>
                            </div>
                        </div>
					</div>

					<div class="clearfix "></div>
					<div class="col-md-12">

                        <div class="form-group">
                            <label class="col-md-3 control-label">内容：</label>
                            <div class="col-md-12">
                                <textarea id="bean-detailInfo" name="detailInfo" style="height: 300px;width: 100%;" class="form-control"  placeholder="请输入内容"  aria-describedby="bean-detailInfo-error"  maxlength="4294967295"   aria-invalid="true">
                                ${bean.detailInfo}
                                </textarea>
                                <span id="bean-detailInfo-error" class="help-block m-b-none"></span>
                            </div>
                        </div>
					</div>
					<div class="clearfix "></div>
					<div class="col-md-12" style="height: 50px;">
						<div style="width: 200px; margin: 0 auto;">
							<input class="btn btn-primary" type="submit" value="保存" /> | <a href="javascript:;" onclick="closeMyBoxLayer();">返回</a>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
@[ include("../include/public_last_js_css.html"){} /]
<script charset="utf-8" src="${basePath}plugins/editor/kindeditor-all-min.js"></script>
<script type="text/javascript">
KindEditor.ready(function(K) {

    //--编辑框(完整)[内容]
    K.create('#bean-detailInfo', {
        resizeType : 2,
        uploadJson : '${basePath}fileUpload?isrich=1',
        fileManagerJson : '${basePath}fileManagerServlet',
        allowFileManager : true
    });
});
$(document).ready(function(){
	formValidate();
});
function formValidate(){
	setTimeout(function(){
		$("#sysCategory_01").validate();
	},1000);
}
</script>
</body>
</html>

