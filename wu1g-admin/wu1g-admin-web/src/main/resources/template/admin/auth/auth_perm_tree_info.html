@[
/*
 * 权限_权限信息  树递归
*/
 /]
@[
if(isNotEmpty(beans) && beans.~size>0){
for(bean in beans){
    pageCtx("trIndex",pageCtx("trIndex")+1);
 /]
    <tr>
        <td>${pageCtx("trIndex")}</td>
        <td>
            -
            @[ for(var i=1;i<=treeIndex;i++){ /]
            |-
            @[ } /]
        ${bean.name}</td>
        <td>${bean.matchStr}</td>
        <td>${bean.memo}</td>
        <td>
            @[ if(shiro.hasPermission("authPerm:edit")){ /]
            <a href="javascript:;"  onclick="openMyBoxLayer('e','${basePath}h/auth/perm/edit/${bean.id}');" class="label label-success" ><i class="fa fa-edit"></i> 编辑</a>
            @[ } /]
            @[ if(shiro.hasPermission("authPerm:del")){ /]
            @[ if(isEmpty(bean.nodes) || bean.nodes.~size==0){ /]
            <a href="javascript:;"  onclick="if(confirm('确认删除吗?')){delInfoData('${basePath}h/auth/perm/del/${bean.id}');};" class="label label-danger" ><i class="fa fa-trash-o"></i> 删除</a>
            @[ }} /]
        </td>
    </tr>
@[
    if(isNotEmpty(bean.nodes) && bean.nodes.~size>0){
        layout("auth_perm_tree_info.html",{beans:bean.nodes,treeIndex:treeIndex+1}){};
    }
  }
}
 /]
